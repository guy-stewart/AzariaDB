<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230121.1956)
 -->
<!-- Title: Automaton Pages: 1 -->
<svg width="2938pt" height="160pt"
 viewBox="0.00 0.00 2938.00 160.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 156)">
<title>Automaton</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-156 2934,-156 2934,4 -4,4"/>
<!-- filename -->
<g id="node1" class="node">
<title>filename</title>
<polygon fill="none" stroke="black" points="0,-10 0,-142 322,-142 322,-10 0,-10"/>
<polygon fill="none" stroke="black" points="11,-117 11,-135 311,-135 311,-117 11,-117"/>
<text text-anchor="start" x="67.98" y="-124" font-family="Courier New" font-weight="bold" font-size="10.00">S12_SHELF_1_CANDLE::M12_xCANDLE</text>
<polygon fill="none" stroke="black" points="11,-37 11,-115 311,-115 311,-37 11,-37"/>
<text text-anchor="start" x="14" y="-103" font-family="Courier New" font-size="10.00" fill="green"> The candle casts the spell.</text>
<text text-anchor="start" x="14" y="-91" font-family="Courier New" font-size="10.00" fill="green">WIP1: CANDLELIGHT</text>
<text text-anchor="start" x="14" y="-79" font-family="Courier New" font-size="10.00" fill="green">WIP2: NYSTROMADDED</text>
<text text-anchor="start" x="14" y="-67" font-family="Courier New" font-size="10.00" fill="green">WIP3: INGREDIENTS_MGR</text>
<text text-anchor="start" x="14" y="-55" font-family="Courier New" font-size="10.00" fill="green">WIP4: SCROLL holder</text>
<text text-anchor="start" x="14" y="-43" font-family="Courier New" font-size="10.00" fill="green">SIG_EMPTY: From candlelight when candle burns out</text>
<polygon fill="none" stroke="black" points="11,-17 11,-35 311,-35 311,-17 11,-17"/>
<text text-anchor="start" x="115.99" y="-23" font-family="Courier New" font-size="10.00" fill="brown">start state = 0</text>
<polygon fill="none" stroke="black" points="8,-14 8,-138 314,-138 314,-14 8,-14"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polyline fill="none" stroke="darkred" stroke-width="3" points="354.5,-100.5 649.5,-100.5"/>
<text text-anchor="start" x="497.8" y="-108.4" font-family="Courier New" font-weight="bold" font-size="14.00">0</text>
<polyline fill="none" stroke="darkred" stroke-width="3" points="354.5,-28.5 649.5,-28.5"/>
<polyline fill="none" stroke="darkred" stroke-width="3" points="649.5,-95.5 354.5,-95.5"/>
<text text-anchor="start" x="358" y="-83" font-family="Courier New" font-size="10.00" fill="blue">0::onExit():</text>
<text text-anchor="start" x="358" y="-71" font-family="Courier New" font-size="10.00" fill="blue">REF_MACHINE(WIP4); &#160;&#160;&#160;// ... the scroll holder</text>
<text text-anchor="start" x="358" y="-59" font-family="Courier New" font-size="10.00" fill="blue">BFRAME=R_WOBJECT; &#160;&#160;&#160;&#160;&#160;&#160;// ... the scroll </text>
<text text-anchor="start" x="358" y="-47" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_SCROLL); // ... the spell id</text>
<text text-anchor="start" x="358" y="-35" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_ING_NY); &#160;&#160;// ... the spell cost</text>
<path fill="none" stroke="darkred" stroke-width="3" d="M361.5,-23.5C361.5,-23.5 642.5,-23.5 642.5,-23.5 648.5,-23.5 654.5,-29.5 654.5,-35.5 654.5,-35.5 654.5,-116.5 654.5,-116.5 654.5,-122.5 648.5,-128.5 642.5,-128.5 642.5,-128.5 361.5,-128.5 361.5,-128.5 355.5,-128.5 349.5,-122.5 349.5,-116.5 349.5,-116.5 349.5,-35.5 349.5,-35.5 349.5,-29.5 355.5,-23.5 361.5,-23.5"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M664,-79.95C675.19,-79.04 682,-77.73 682,-76 682,-74.97 679.6,-74.09 675.3,-73.36"/>
<polygon fill="black" stroke="black" points="675.83,-69.9 665.5,-72.23 675.03,-76.85 675.83,-69.9"/>
<polygon fill="none" stroke="black" points="685,-77 685,-95 823,-95 823,-77 685,-77"/>
<text text-anchor="start" x="724" y="-84" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">CLICK(0,0)</text>
<polygon fill="none" stroke="black" points="685,-57 685,-75 823,-75 823,-57 685,-57"/>
<text text-anchor="start" x="688" y="-63" font-family="Courier New" font-size="10.00" fill="blue">SIGNAL(WIP1,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="682,-54 682,-98 826,-98 826,-54 682,-54"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M663.79,-86.74C746.06,-87.65 826,-84.07 826,-76 826,-68.29 753.08,-64.68 674.86,-65.17"/>
<polygon fill="black" stroke="black" points="675.27,-61.66 665.3,-65.25 675.33,-68.66 675.27,-61.66"/>
<polygon fill="none" stroke="black" points="829,-131 829,-149 1303,-149 1303,-131 829,-131"/>
<text text-anchor="start" x="1014.99" y="-138" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_MATCH)</text>
<polygon fill="none" stroke="black" points="829,-3 829,-129 1303,-129 1303,-3 829,-3"/>
<text text-anchor="start" x="832" y="-117" font-family="Courier New" font-size="10.00" fill="blue">// magic candle can&#39;t light without enough nystrom!</text>
<text text-anchor="start" x="832" y="-105" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM == BFRAME) {</text>
<text text-anchor="start" x="832" y="-93" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;// check to see if the spell is ready</text>
<text text-anchor="start" x="832" y="-81" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP3, SIG_CHECK);</text>
<text text-anchor="start" x="832" y="-69" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;REF_MACHINE(WIP3);</text>
<text text-anchor="start" x="832" y="-57" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;if ((R_WPARM &gt; 0) &amp;&amp; (R_WPARM == R_BPARM)) {</text>
<text text-anchor="start" x="832" y="-45" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIGNAL(WIP1, SIG_SHOW); // WIP1 is the candle light</text>
<text text-anchor="start" x="832" y="-33" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BPARM = 0; // &#45;&#45;BPARM GOES TO ZERO AS THE NYSTROM CATCHES FIRE</text>
<text text-anchor="start" x="832" y="-21" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="832" y="-9" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;}</text>
<polygon fill="none" stroke="black" points="826,0 826,-152 1306,-152 1306,0 826,0"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M663.57,-88.42C900.66,-96.33 1306,-92.19 1306,-76 1306,-60.07 913.23,-55.81 674.8,-63.22"/>
<polygon fill="black" stroke="black" points="674.96,-59.71 665.08,-63.53 675.19,-66.7 674.96,-59.71"/>
<polygon fill="none" stroke="black" points="1309,-125 1309,-143 1771,-143 1771,-125 1309,-125"/>
<text text-anchor="start" x="1485.99" y="-132" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_SCOOPF)</text>
<polygon fill="none" stroke="black" points="1309,-9 1309,-123 1771,-123 1771,-9 1309,-9"/>
<text text-anchor="start" x="1312" y="-111" font-family="Courier New" font-size="10.00" fill="blue">/* &#160;&#160;BFRAME is how much for the spell</text>
<text text-anchor="start" x="1312" y="-99" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1312" y="-87" font-family="Courier New" font-size="10.00" fill="blue">*/</text>
<text text-anchor="start" x="1312" y="-75" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM &lt; BFRAME) { &#160;&#160;&#160;// BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1312" y="-63" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;ADDI(BPARM,1);</text>
<text text-anchor="start" x="1312" y="-51" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;PLAYWAVE(SOUND_SLURP);</text>
<text text-anchor="start" x="1312" y="-39" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP2, SIG_SHOW); // WIP2 is the nystrom meter (M12_xNYSTROMADDED)</text>
<text text-anchor="start" x="1312" y="-27" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;HANDOFF(0,IDD_SCOOPE);</text>
<text text-anchor="start" x="1312" y="-15" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="1306,-6 1306,-146 1774,-146 1774,-6 1306,-6"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M663.86,-89.9C1009.28,-103.84 1774,-99.21 1774,-76 1774,-53.04 1025.62,-48.26 675.14,-61.65"/>
<polygon fill="black" stroke="black" points="675.23,-58.15 665.37,-62.04 675.5,-65.14 675.23,-58.15"/>
<polygon fill="none" stroke="black" points="1777,-77 1777,-95 2011,-95 2011,-77 1777,-77"/>
<text text-anchor="start" x="1845.99" y="-84" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(,SIG_EMPTY)</text>
<polygon fill="none" stroke="black" points="1777,-57 1777,-75 2011,-75 2011,-57 1777,-57"/>
<text text-anchor="start" x="1780" y="-63" font-family="Courier New" font-size="10.00" fill="blue">ASSIGN(BPARM,0);SIGNAL(WIP2,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="1774,-54 1774,-98 2014,-98 2014,-54 1774,-54"/>
</g>
<!-- status -->
<g id="node3" class="node">
<title>status</title>
<polygon fill="none" stroke="black" points="2086,-38 2086,-114 2930,-114 2930,-38 2086,-38"/>
<polygon fill="none" stroke="black" points="2097,-89 2097,-107 2919,-107 2919,-89 2097,-89"/>
<text text-anchor="start" x="2453.99" y="-96" font-family="Courier New" font-weight="bold" font-size="10.00">S12_SHELF_1_CANDLE</text>
<polygon fill="none" stroke="black" points="2097,-45 2097,-87 2919,-87 2919,-45 2097,-45"/>
<text text-anchor="start" x="2100" y="-75" font-family="Courier New" font-size="10.00" fill="green">VIEW::IDV_TMCU1 @pos(left:272, top:59)</text>
<text text-anchor="start" x="2100" y="-63" font-family="Courier New" font-size="10.00" fill="green">S12_SHELF_1_CANDLE::M12_xCANDLE(&#39;S12_SHELF_1_CANDLELIGHT&#39;,&#39;S12_SHELF_1_NYSTROMADDED&#39;,&#39;S12_SHELF_1_INGREDIENTS_MGR&#39;,&#39;S12_SHELF_1_SCROLL&#39;)</text>
<text text-anchor="start" x="2100" y="-51" font-family="Courier New" font-size="10.00" fill="green">{state:&#39;0&#39;:</text>
<polygon fill="none" stroke="black" points="2094,-42 2094,-110 2922,-110 2922,-42 2094,-42"/>
</g>
</g>
</svg>
