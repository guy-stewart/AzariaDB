<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230121.1956)
 -->
<!-- Title: Automaton Pages: 1 -->
<svg width="2938pt" height="172pt"
 viewBox="0.00 0.00 2938.00 172.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168)">
<title>Automaton</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-168 2934,-168 2934,4 -4,4"/>
<!-- filename -->
<g id="node1" class="node">
<title>filename</title>
<polygon fill="none" stroke="black" points="0,-16 0,-148 322,-148 322,-16 0,-16"/>
<polygon fill="none" stroke="black" points="11,-123 11,-141 311,-141 311,-123 11,-123"/>
<text text-anchor="start" x="67.98" y="-130" font-family="Courier New" font-weight="bold" font-size="10.00">S12_SHELF_1_CANDLE::M12_xCANDLE</text>
<polygon fill="none" stroke="black" points="11,-43 11,-121 311,-121 311,-43 11,-43"/>
<text text-anchor="start" x="14" y="-109" font-family="Courier New" font-size="10.00" fill="green"> The candle casts the spell.</text>
<text text-anchor="start" x="14" y="-97" font-family="Courier New" font-size="10.00" fill="green">WIP1: CANDLELIGHT</text>
<text text-anchor="start" x="14" y="-85" font-family="Courier New" font-size="10.00" fill="green">WIP2: NYSTROMADDED</text>
<text text-anchor="start" x="14" y="-73" font-family="Courier New" font-size="10.00" fill="green">WIP3: INGREDIENTS_MGR</text>
<text text-anchor="start" x="14" y="-61" font-family="Courier New" font-size="10.00" fill="green">WIP4: SCROLL holder</text>
<text text-anchor="start" x="14" y="-49" font-family="Courier New" font-size="10.00" fill="green">SIG_EMPTY: From candlelight when candle burns out</text>
<polygon fill="none" stroke="black" points="11,-23 11,-41 311,-41 311,-23 11,-23"/>
<text text-anchor="start" x="115.99" y="-29" font-family="Courier New" font-size="10.00" fill="brown">start state = 0</text>
<polygon fill="none" stroke="black" points="8,-20 8,-144 314,-144 314,-20 8,-20"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polyline fill="none" stroke="darkred" stroke-width="3" points="354.5,-100.5 649.5,-100.5"/>
<text text-anchor="start" x="497.8" y="-108.4" font-family="Courier New" font-weight="bold" font-size="14.00">0</text>
<polyline fill="none" stroke="darkred" stroke-width="3" points="354.5,-40.5 649.5,-40.5"/>
<polyline fill="none" stroke="darkred" stroke-width="3" points="649.5,-95.5 354.5,-95.5"/>
<text text-anchor="start" x="358" y="-83" font-family="Courier New" font-size="10.00" fill="blue">REF_MACHINE(WIP4); &#160;&#160;&#160;// ... the scroll holder</text>
<text text-anchor="start" x="358" y="-71" font-family="Courier New" font-size="10.00" fill="blue">BFRAME=R_WOBJECT; &#160;&#160;&#160;&#160;&#160;&#160;// ... the scroll </text>
<text text-anchor="start" x="358" y="-59" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_SCROLL); // ... the spell id</text>
<text text-anchor="start" x="358" y="-47" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_ING_NY); &#160;&#160;// ... the spell cost</text>
<path fill="none" stroke="darkred" stroke-width="3" d="M361.5,-35.5C361.5,-35.5 642.5,-35.5 642.5,-35.5 648.5,-35.5 654.5,-41.5 654.5,-47.5 654.5,-47.5 654.5,-116.5 654.5,-116.5 654.5,-122.5 648.5,-128.5 642.5,-128.5 642.5,-128.5 361.5,-128.5 361.5,-128.5 355.5,-128.5 349.5,-122.5 349.5,-116.5 349.5,-116.5 349.5,-47.5 349.5,-47.5 349.5,-41.5 355.5,-35.5 361.5,-35.5"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M664,-85.54C675.19,-84.73 682,-83.55 682,-82 682,-81.08 679.6,-80.29 675.3,-79.63"/>
<polygon fill="black" stroke="black" points="675.81,-76.17 665.5,-78.62 675.09,-83.13 675.81,-76.17"/>
<polygon fill="none" stroke="black" points="685,-83 685,-101 823,-101 823,-83 685,-83"/>
<text text-anchor="start" x="724" y="-90" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">CLICK(0,0)</text>
<polygon fill="none" stroke="black" points="685,-63 685,-81 823,-81 823,-63 685,-63"/>
<text text-anchor="start" x="688" y="-69" font-family="Courier New" font-size="10.00" fill="blue">SIGNAL(WIP1,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="682,-60 682,-104 826,-104 826,-60 682,-60"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M663.79,-91.62C746.06,-92.44 826,-89.24 826,-82 826,-75.09 753.08,-71.85 674.86,-72.29"/>
<polygon fill="black" stroke="black" points="675.28,-68.79 665.3,-72.36 675.33,-75.79 675.28,-68.79"/>
<polygon fill="none" stroke="black" points="829,-143 829,-161 1303,-161 1303,-143 829,-143"/>
<text text-anchor="start" x="1014.99" y="-150" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_MATCH)</text>
<polygon fill="none" stroke="black" points="829,-3 829,-141 1303,-141 1303,-3 829,-3"/>
<text text-anchor="start" x="832" y="-129" font-family="Courier New" font-size="10.00" fill="blue">// magic candle can&#39;t light without enough nystrom!</text>
<text text-anchor="start" x="832" y="-117" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM == BFRAME) {</text>
<text text-anchor="start" x="832" y="-105" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;// check to see if the spell is ready</text>
<text text-anchor="start" x="832" y="-93" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP3, SIG_CHECK);</text>
<text text-anchor="start" x="832" y="-81" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;REF_MACHINE(WIP3);</text>
<text text-anchor="start" x="832" y="-69" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;if ((R_WPARM &gt; 0) &amp;&amp; (R_WPARM == R_BPARM)) {</text>
<text text-anchor="start" x="832" y="-57" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIGNAL(WIP1, SIG_SHOW); // WIP1 is the candle light</text>
<text text-anchor="start" x="832" y="-45" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BPARM = 0; // &#45;&#45;BPARM GOES TO ZERO AS THE NYSTROM CATCHES FIRE</text>
<text text-anchor="start" x="832" y="-33" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="832" y="-21" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;}</text>
<text text-anchor="start" x="832" y="-9" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="826,0 826,-164 1306,-164 1306,0 826,0"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M663.57,-93.14C900.66,-100.22 1306,-96.51 1306,-82 1306,-67.72 913.23,-63.9 674.8,-70.54"/>
<polygon fill="black" stroke="black" points="674.98,-67.03 665.08,-70.82 675.18,-74.03 674.98,-67.03"/>
<polygon fill="none" stroke="black" points="1309,-131 1309,-149 1771,-149 1771,-131 1309,-131"/>
<text text-anchor="start" x="1485.99" y="-138" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_SCOOPF)</text>
<polygon fill="none" stroke="black" points="1309,-15 1309,-129 1771,-129 1771,-15 1309,-15"/>
<text text-anchor="start" x="1312" y="-117" font-family="Courier New" font-size="10.00" fill="blue">/* &#160;&#160;BFRAME is how much for the spell</text>
<text text-anchor="start" x="1312" y="-105" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1312" y="-93" font-family="Courier New" font-size="10.00" fill="blue">*/</text>
<text text-anchor="start" x="1312" y="-81" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM &lt; BFRAME) { &#160;&#160;&#160;// BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1312" y="-69" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;ADDI(BPARM,1);</text>
<text text-anchor="start" x="1312" y="-57" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;PLAYWAVE(SOUND_SLURP);</text>
<text text-anchor="start" x="1312" y="-45" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP2, SIG_SHOW); // WIP2 is the nystrom meter (M12_xNYSTROMADDED)</text>
<text text-anchor="start" x="1312" y="-33" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;HANDOFF(0,IDD_SCOOPE);</text>
<text text-anchor="start" x="1312" y="-21" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="1306,-12 1306,-152 1774,-152 1774,-12 1306,-12"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M663.86,-94.47C1009.28,-106.96 1774,-102.81 1774,-82 1774,-61.42 1025.62,-57.13 675.14,-69.14"/>
<polygon fill="black" stroke="black" points="675.24,-65.63 665.37,-69.48 675.49,-72.63 675.24,-65.63"/>
<polygon fill="none" stroke="black" points="1777,-83 1777,-101 2011,-101 2011,-83 1777,-83"/>
<text text-anchor="start" x="1845.99" y="-90" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(,SIG_EMPTY)</text>
<polygon fill="none" stroke="black" points="1777,-63 1777,-81 2011,-81 2011,-63 1777,-63"/>
<text text-anchor="start" x="1780" y="-69" font-family="Courier New" font-size="10.00" fill="blue">ASSIGN(BPARM,0);SIGNAL(WIP2,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="1774,-60 1774,-104 2014,-104 2014,-60 1774,-60"/>
</g>
<!-- status -->
<g id="node3" class="node">
<title>status</title>
<polygon fill="none" stroke="black" points="2086,-34 2086,-130 2930,-130 2930,-34 2086,-34"/>
<polygon fill="none" stroke="black" points="2097,-105 2097,-123 2919,-123 2919,-105 2097,-105"/>
<text text-anchor="start" x="2453.99" y="-112" font-family="Courier New" font-weight="bold" font-size="10.00">S12_SHELF_1_CANDLE</text>
<polygon fill="none" stroke="black" points="2097,-61 2097,-103 2919,-103 2919,-61 2097,-61"/>
<text text-anchor="start" x="2100" y="-91" font-family="Courier New" font-size="10.00" fill="green">VIEW: IDV_TMCU1</text>
<text text-anchor="start" x="2100" y="-79" font-family="Courier New" font-size="10.00" fill="green">S12_SHELF_1_CANDLE::M12_xCANDLE(&#39;S12_SHELF_1_CANDLELIGHT&#39;,&#39;S12_SHELF_1_NYSTROMADDED&#39;,&#39;S12_SHELF_1_INGREDIENTS_MGR&#39;,&#39;S12_SHELF_1_SCROLL&#39;)</text>
<text text-anchor="start" x="2100" y="-67" font-family="Courier New" font-size="10.00" fill="green">{&#39;0&#39;:}</text>
<polygon fill="none" stroke="black" points="2097,-41 2097,-59 2919,-59 2919,-41 2097,-41"/>
<text text-anchor="start" x="2505" y="-47" font-family="Courier New" font-size="10.00" fill="blue">_</text>
<polygon fill="none" stroke="black" points="2094,-38 2094,-126 2922,-126 2922,-38 2094,-38"/>
</g>
</g>
</svg>
