<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230121.1956)
 -->
<!-- Title: Automaton Pages: 1 -->
<svg width="1848pt" height="208pt"
 viewBox="0.00 0.00 1848.00 208.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 204)">
<title>Automaton</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-204 1844,-204 1844,4 -4,4"/>
<!-- filename -->
<g id="node1" class="node">
<title>filename</title>
<polygon fill="none" stroke="black" points="0,-34 0,-166 364,-166 364,-34 0,-34"/>
<polygon fill="none" stroke="black" points="11,-141 11,-159 353,-159 353,-141 11,-141"/>
<text text-anchor="start" x="148.99" y="-148" font-family="Courier New" font-weight="bold" font-size="10.00">M12_xCANDLE</text>
<polygon fill="none" stroke="black" points="11,-61 11,-139 353,-139 353,-61 11,-61"/>
<text text-anchor="start" x="14" y="-127" font-family="Courier New" font-size="10.00" fill="green">used in the temple to hold ingredients for spell making.</text>
<text text-anchor="start" x="14" y="-115" font-family="Courier New" font-size="10.00" fill="green">WIP1: CANDLELIGHT</text>
<text text-anchor="start" x="14" y="-103" font-family="Courier New" font-size="10.00" fill="green">WIP2: NYSTROMADDED</text>
<text text-anchor="start" x="14" y="-91" font-family="Courier New" font-size="10.00" fill="green">WIP3: INGREDIENTS_MGR</text>
<text text-anchor="start" x="14" y="-79" font-family="Courier New" font-size="10.00" fill="green">WIP4: SCROLL</text>
<text text-anchor="start" x="14" y="-67" font-family="Courier New" font-size="10.00" fill="green">SIG_EMPTY: From candlelight when candle burns out</text>
<polygon fill="none" stroke="black" points="11,-41 11,-59 353,-59 353,-41 11,-41"/>
<text text-anchor="start" x="136.99" y="-47" font-family="Courier New" font-size="10.00" fill="brown">start state = 0</text>
<polygon fill="none" stroke="black" points="8,-38 8,-162 356,-162 356,-38 8,-38"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polyline fill="none" stroke="darkred" points="402,-89 416,-89"/>
<text text-anchor="start" x="405" y="-96.4" font-family="Courier New" font-weight="bold" font-size="14.00">0</text>
<path fill="none" stroke="darkred" d="M405.67,-86C405.67,-86 412.33,-86 412.33,-86 415.67,-86 419,-89.33 419,-92.67 419,-92.67 419,-107.33 419,-107.33 419,-110.67 415.67,-114 412.33,-114 412.33,-114 405.67,-114 405.67,-114 402.33,-114 399,-110.67 399,-107.33 399,-107.33 399,-92.67 399,-92.67 399,-89.33 402.33,-86 405.67,-86"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M435.79,-101.68C445.78,-101.74 454,-101.18 454,-100 454,-99.32 451.25,-98.84 447.01,-98.58"/>
<polygon fill="black" stroke="black" points="447.39,-95.08 437.31,-98.35 447.22,-102.08 447.39,-95.08"/>
<polygon fill="none" stroke="black" points="457,-101 457,-119 595,-119 595,-101 457,-101"/>
<text text-anchor="start" x="496" y="-108" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">CLICK(0,0)</text>
<polygon fill="none" stroke="black" points="457,-81 457,-99 595,-99 595,-81 457,-81"/>
<text text-anchor="start" x="460" y="-87" font-family="Courier New" font-size="10.00" fill="blue">SIGNAL(WIP1,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="454,-78 454,-122 598,-122 598,-78 454,-78"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M435.78,-102.12C489.22,-104.33 598,-103.62 598,-100 598,-96.62 503.18,-95.78 447.11,-97.48"/>
<polygon fill="black" stroke="black" points="447.16,-93.97 437.29,-97.82 447.41,-100.97 447.16,-93.97"/>
<polygon fill="none" stroke="black" points="601,-179 601,-197 1075,-197 1075,-179 601,-179"/>
<text text-anchor="start" x="786.99" y="-186" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_MATCH)</text>
<polygon fill="none" stroke="black" points="601,-3 601,-177 1075,-177 1075,-3 601,-3"/>
<text text-anchor="start" x="604" y="-165" font-family="Courier New" font-size="10.00" fill="blue">REF_MACHINE(WIP4); &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// WIP4 is the scroll</text>
<text text-anchor="start" x="604" y="-153" font-family="Courier New" font-size="10.00" fill="blue">MOV(BFRAME,R_WPARM); &#160;&#160;&#160;&#160;&#160;&#160;// R_WPARM is the spell id</text>
<text text-anchor="start" x="604" y="-141" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_ING_NY); &#160;&#160;// BFRAME is the cost for the spell</text>
<text text-anchor="start" x="604" y="-129" font-family="Courier New" font-size="10.00" fill="blue">// magic candle can&#39;t light without enough nystrom!</text>
<text text-anchor="start" x="604" y="-117" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM == BFRAME) {</text>
<text text-anchor="start" x="604" y="-105" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;// check to see if the spell is ready</text>
<text text-anchor="start" x="604" y="-93" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP3, SIG_CHECK);</text>
<text text-anchor="start" x="604" y="-81" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;REF_MACHINE(WIP3);</text>
<text text-anchor="start" x="604" y="-69" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;if ((R_WPARM &gt; 0) &amp;&amp; (R_WPARM == R_BPARM)) {</text>
<text text-anchor="start" x="604" y="-57" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIGNAL(WIP1, SIG_SHOW); // WIP1 is the candle light</text>
<text text-anchor="start" x="604" y="-45" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BPARM = 0; // &#45;&#45;BPARM GOES TO ZERO AS THE NYSTROM CATCHES FIRE</text>
<text text-anchor="start" x="604" y="-33" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="604" y="-21" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;}</text>
<text text-anchor="start" x="604" y="-9" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="598,0 598,-200 1078,-200 1078,0 598,0"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M435.76,-101.88C562.03,-106.68 1078,-106.05 1078,-100 1078,-94.11 589.87,-93.36 446.97,-97.74"/>
<polygon fill="black" stroke="black" points="447.15,-94.23 437.27,-98.07 447.39,-101.23 447.15,-94.23"/>
<polygon fill="none" stroke="black" points="1081,-179 1081,-197 1543,-197 1543,-179 1081,-179"/>
<text text-anchor="start" x="1257.99" y="-186" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_SCOOPF)</text>
<polygon fill="none" stroke="black" points="1081,-3 1081,-177 1543,-177 1543,-3 1081,-3"/>
<text text-anchor="start" x="1084" y="-165" font-family="Courier New" font-size="10.00" fill="blue">/* &#160;&#160;&#160;&#160;&#160;WIP4 is the scroll</text>
<text text-anchor="start" x="1084" y="-153" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;R_WPARM is the spell id (??)</text>
<text text-anchor="start" x="1084" y="-141" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;BFRAME is how much for the spell</text>
<text text-anchor="start" x="1084" y="-129" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1084" y="-117" font-family="Courier New" font-size="10.00" fill="blue">*/</text>
<text text-anchor="start" x="1084" y="-105" font-family="Courier New" font-size="10.00" fill="blue">REF_MACHINE(WIP4); &#160;&#160;&#160;&#160;&#160;&#160;// WIP4 is the scroll</text>
<text text-anchor="start" x="1084" y="-93" font-family="Courier New" font-size="10.00" fill="blue">MOV(BFRAME,R_WPARM); &#160;&#160;&#160;&#160;// R_WPARM is the spell id (??)</text>
<text text-anchor="start" x="1084" y="-81" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_ING_NY); // BFRAME is how much for the spell</text>
<text text-anchor="start" x="1084" y="-69" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM &lt; BFRAME) { &#160;&#160;&#160;// BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1084" y="-57" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;ADDI(BPARM,1);</text>
<text text-anchor="start" x="1084" y="-45" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;PLAYWAVE(SOUND_SLURP);</text>
<text text-anchor="start" x="1084" y="-33" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP2, SIG_SHOW); // WIP2 is the nystrom meter (M12_xNYSTROMADDED)</text>
<text text-anchor="start" x="1084" y="-21" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;HANDOFF(0,IDD_SCOOPE);</text>
<text text-anchor="start" x="1084" y="-9" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="1078,0 1078,-200 1546,-200 1546,0 1078,0"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M435.86,-101.97C609.75,-108.94 1546,-108.29 1546,-100 1546,-91.88 646.86,-91.09 447.21,-97.62"/>
<polygon fill="black" stroke="black" points="447.24,-94.12 437.37,-97.98 447.49,-101.12 447.24,-94.12"/>
<polygon fill="none" stroke="black" points="1549,-101 1549,-119 1783,-119 1783,-101 1549,-101"/>
<text text-anchor="start" x="1617.99" y="-108" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(,SIG_EMPTY)</text>
<polygon fill="none" stroke="black" points="1549,-81 1549,-99 1783,-99 1783,-81 1549,-81"/>
<text text-anchor="start" x="1552" y="-87" font-family="Courier New" font-size="10.00" fill="blue">ASSIGN(BPARM,0);SIGNAL(WIP2,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="1546,-78 1546,-122 1786,-122 1786,-78 1546,-78"/>
</g>
</g>
</svg>
