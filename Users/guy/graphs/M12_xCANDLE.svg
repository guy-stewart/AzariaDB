<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230121.1956)
 -->
<!-- Title: Automaton Pages: 1 -->
<svg width="1602pt" height="208pt"
 viewBox="0.00 0.00 1602.00 208.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 204)">
<title>Automaton</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-204 1598,-204 1598,4 -4,4"/>
<!-- filename -->
<g id="node1" class="node">
<title>filename</title>
<polygon fill="none" stroke="black" points="0,-74 0,-126 118,-126 118,-74 0,-74"/>
<polygon fill="none" stroke="black" points="11,-101 11,-119 107,-119 107,-101 11,-101"/>
<text text-anchor="start" x="25.99" y="-108" font-family="Courier New" font-weight="bold" font-size="10.00">M12_xCANDLE</text>
<polygon fill="none" stroke="black" points="11,-81 11,-99 107,-99 107,-81 11,-81"/>
<text text-anchor="start" x="14" y="-87" font-family="Courier New" font-size="10.00" fill="brown">start state = 0</text>
<polygon fill="none" stroke="black" points="8,-78 8,-122 110,-122 110,-78 8,-78"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polyline fill="none" stroke="darkred" points="156,-89 170,-89"/>
<text text-anchor="start" x="159" y="-96.4" font-family="Courier New" font-weight="bold" font-size="14.00">0</text>
<path fill="none" stroke="darkred" d="M159.67,-86C159.67,-86 166.33,-86 166.33,-86 169.67,-86 173,-89.33 173,-92.67 173,-92.67 173,-107.33 173,-107.33 173,-110.67 169.67,-114 166.33,-114 166.33,-114 159.67,-114 159.67,-114 156.33,-114 153,-110.67 153,-107.33 153,-107.33 153,-92.67 153,-92.67 153,-89.33 156.33,-86 159.67,-86"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M189.79,-101.68C199.78,-101.74 208,-101.18 208,-100 208,-99.32 205.25,-98.84 201.01,-98.58"/>
<polygon fill="black" stroke="black" points="201.39,-95.08 191.31,-98.35 201.22,-102.08 201.39,-95.08"/>
<polygon fill="none" stroke="black" points="211,-101 211,-119 349,-119 349,-101 211,-101"/>
<text text-anchor="start" x="250" y="-108" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">CLICK(0,0)</text>
<polygon fill="none" stroke="black" points="211,-81 211,-99 349,-99 349,-81 211,-81"/>
<text text-anchor="start" x="214" y="-87" font-family="Courier New" font-size="10.00" fill="blue">SIGNAL(WIP1,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="208,-78 208,-122 352,-122 352,-78 208,-78"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M189.78,-102.12C243.22,-104.33 352,-103.62 352,-100 352,-96.62 257.18,-95.78 201.11,-97.48"/>
<polygon fill="black" stroke="black" points="201.16,-93.97 191.29,-97.82 201.41,-100.97 201.16,-93.97"/>
<polygon fill="none" stroke="black" points="355,-179 355,-197 829,-197 829,-179 355,-179"/>
<text text-anchor="start" x="540.99" y="-186" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_MATCH)</text>
<polygon fill="none" stroke="black" points="355,-3 355,-177 829,-177 829,-3 355,-3"/>
<text text-anchor="start" x="358" y="-165" font-family="Courier New" font-size="10.00" fill="blue">REF_MACHINE(WIP4); &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// WIP4 is the scroll</text>
<text text-anchor="start" x="358" y="-153" font-family="Courier New" font-size="10.00" fill="blue">MOV(BFRAME,R_WPARM); &#160;&#160;&#160;&#160;&#160;&#160;// R_WPARM is the spell id</text>
<text text-anchor="start" x="358" y="-141" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_ING_NY); &#160;&#160;// BFRAME is the cost for the spell</text>
<text text-anchor="start" x="358" y="-129" font-family="Courier New" font-size="10.00" fill="blue">// magic candle can&#39;t light without enough nystrom!</text>
<text text-anchor="start" x="358" y="-117" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM == BFRAME) {</text>
<text text-anchor="start" x="358" y="-105" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;// check to see if the spell is ready</text>
<text text-anchor="start" x="358" y="-93" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP3, SIG_CHECK);</text>
<text text-anchor="start" x="358" y="-81" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;REF_MACHINE(WIP3);</text>
<text text-anchor="start" x="358" y="-69" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;if ((R_WPARM &gt; 0) &amp;&amp; (R_WPARM == R_BPARM)) {</text>
<text text-anchor="start" x="358" y="-57" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIGNAL(WIP1, SIG_SHOW); // WIP1 is the candle light</text>
<text text-anchor="start" x="358" y="-45" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BPARM = 0; // &#45;&#45;BPARM GOES TO ZERO AS THE NYSTROM CATCHES FIRE</text>
<text text-anchor="start" x="358" y="-33" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="358" y="-21" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;}</text>
<text text-anchor="start" x="358" y="-9" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="352,0 352,-200 832,-200 832,0 352,0"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M189.76,-101.88C316.03,-106.68 832,-106.05 832,-100 832,-94.11 343.87,-93.36 200.97,-97.74"/>
<polygon fill="black" stroke="black" points="201.15,-94.23 191.27,-98.07 201.39,-101.23 201.15,-94.23"/>
<polygon fill="none" stroke="black" points="835,-179 835,-197 1297,-197 1297,-179 835,-179"/>
<text text-anchor="start" x="1011.99" y="-186" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_SCOOPF)</text>
<polygon fill="none" stroke="black" points="835,-3 835,-177 1297,-177 1297,-3 835,-3"/>
<text text-anchor="start" x="838" y="-165" font-family="Courier New" font-size="10.00" fill="blue">/* &#160;&#160;&#160;&#160;&#160;WIP4 is the scroll</text>
<text text-anchor="start" x="838" y="-153" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;R_WPARM is the spell id (??)</text>
<text text-anchor="start" x="838" y="-141" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;BFRAME is how much for the spell</text>
<text text-anchor="start" x="838" y="-129" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;BPARM is how much stored in the candle</text>
<text text-anchor="start" x="838" y="-117" font-family="Courier New" font-size="10.00" fill="blue">*/</text>
<text text-anchor="start" x="838" y="-105" font-family="Courier New" font-size="10.00" fill="blue">REF_MACHINE(WIP4); &#160;&#160;&#160;&#160;&#160;&#160;// WIP4 is the scroll</text>
<text text-anchor="start" x="838" y="-93" font-family="Courier New" font-size="10.00" fill="blue">MOV(BFRAME,R_WPARM); &#160;&#160;&#160;&#160;// R_WPARM is the spell id (??)</text>
<text text-anchor="start" x="838" y="-81" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_ING_NY); // BFRAME is how much for the spell</text>
<text text-anchor="start" x="838" y="-69" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM &lt; BFRAME) { &#160;&#160;&#160;// BPARM is how much stored in the candle</text>
<text text-anchor="start" x="838" y="-57" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;ADDI(BPARM,1);</text>
<text text-anchor="start" x="838" y="-45" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;PLAYWAVE(SOUND_SLURP);</text>
<text text-anchor="start" x="838" y="-33" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP2, SIG_SHOW); // WIP2 is the nystrom meter (M12_xNYSTROMADDED)</text>
<text text-anchor="start" x="838" y="-21" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;HANDOFF(0,IDD_SCOOPE);</text>
<text text-anchor="start" x="838" y="-9" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="832,0 832,-200 1300,-200 1300,0 832,0"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M189.86,-101.97C363.75,-108.94 1300,-108.29 1300,-100 1300,-91.88 400.86,-91.09 201.21,-97.62"/>
<polygon fill="black" stroke="black" points="201.24,-94.12 191.37,-97.98 201.49,-101.12 201.24,-94.12"/>
<polygon fill="none" stroke="black" points="1303,-101 1303,-119 1537,-119 1537,-101 1303,-101"/>
<text text-anchor="start" x="1371.99" y="-108" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(,SIG_EMPTY)</text>
<polygon fill="none" stroke="black" points="1303,-81 1303,-99 1537,-99 1537,-81 1303,-81"/>
<text text-anchor="start" x="1306" y="-87" font-family="Courier New" font-size="10.00" fill="blue">ASSIGN(BPARM,0);SIGNAL(WIP2,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="1300,-78 1300,-122 1540,-122 1540,-78 1300,-78"/>
</g>
</g>
</svg>
