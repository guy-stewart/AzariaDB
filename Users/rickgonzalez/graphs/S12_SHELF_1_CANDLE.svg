<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 8.0.1 (20230327.1645)
 -->
<!-- Title: Automaton Pages: 1 -->
<svg width="2945pt" height="160pt"
 viewBox="0.00 0.00 2945.00 160.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 156)">
<title>Automaton</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-156 2941,-156 2941,4 -4,4"/>
<!-- filename -->
<g id="node1" class="node">
<title>filename</title>
<polygon fill="none" stroke="black" points="0,-14 0,-138 323,-138 323,-14 0,-14"/>
<polygon fill="none" stroke="black" points="11,-114 11,-131 312,-131 312,-114 11,-114"/>
<text text-anchor="start" x="68" y="-121" font-family="Courier New" font-weight="bold" font-size="10.00">S12_SHELF_1_CANDLE::M12_xCANDLE</text>
<polygon fill="none" stroke="black" points="11,-40 11,-112 312,-112 312,-40 11,-40"/>
<text text-anchor="start" x="14" y="-101" font-family="Courier New" font-size="10.00" fill="green"> The candle casts the spell.</text>
<text text-anchor="start" x="14" y="-90" font-family="Courier New" font-size="10.00" fill="green">WIP1: CANDLELIGHT</text>
<text text-anchor="start" x="14" y="-79" font-family="Courier New" font-size="10.00" fill="green">WIP2: NYSTROMADDED</text>
<text text-anchor="start" x="14" y="-68" font-family="Courier New" font-size="10.00" fill="green">WIP3: INGREDIENTS_MGR</text>
<text text-anchor="start" x="14" y="-57" font-family="Courier New" font-size="10.00" fill="green">WIP4: SCROLL holder</text>
<text text-anchor="start" x="14" y="-46" font-family="Courier New" font-size="10.00" fill="green">SIG_EMPTY: From candlelight when candle burns out</text>
<polygon fill="none" stroke="black" points="11,-21 11,-38 312,-38 312,-21 11,-21"/>
<text text-anchor="start" x="116" y="-27" font-family="Courier New" font-size="10.00" fill="brown">start state = 0</text>
<polygon fill="none" stroke="black" points="8,-18 8,-134 315,-134 315,-18 8,-18"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polyline fill="none" stroke="darkred" stroke-width="3" points="355.5,-93 651.5,-93"/>
<text text-anchor="start" x="499" y="-101.3" font-family="Courier New" font-weight="bold" font-size="14.00">0</text>
<polyline fill="none" stroke="darkred" stroke-width="3" points="355.5,-37 651.5,-37"/>
<polyline fill="none" stroke="darkred" stroke-width="3" points="651.5,-88 355.5,-88"/>
<text text-anchor="start" x="359" y="-76.5" font-family="Courier New" font-size="10.00" fill="blue">REF_MACHINE(WIP4); &#160;&#160;&#160;// ... the scroll holder</text>
<text text-anchor="start" x="359" y="-65.5" font-family="Courier New" font-size="10.00" fill="blue">BFRAME=R_WOBJECT; &#160;&#160;&#160;&#160;&#160;&#160;// ... the scroll </text>
<text text-anchor="start" x="359" y="-54.5" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_SCROLL); // ... the spell id</text>
<text text-anchor="start" x="359" y="-43.5" font-family="Courier New" font-size="10.00" fill="blue">MAPi(BFRAME,S12_ING_NY); &#160;&#160;// ... the spell cost</text>
<path fill="none" stroke="darkred" stroke-width="3" d="M362.5,-32C362.5,-32 644.5,-32 644.5,-32 650.5,-32 656.5,-38 656.5,-44 656.5,-44 656.5,-108 656.5,-108 656.5,-114 650.5,-120 644.5,-120 644.5,-120 362.5,-120 362.5,-120 356.5,-120 350.5,-114 350.5,-108 350.5,-108 350.5,-44 350.5,-44 350.5,-38 356.5,-32 362.5,-32"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M665.95,-79.37C677.17,-78.6 684,-77.47 684,-76 684,-75.08 681.33,-74.29 676.59,-73.65"/>
<polygon fill="black" stroke="black" points="677.23,-70.1 666.95,-72.63 676.57,-77.07 677.23,-70.1"/>
<polygon fill="none" stroke="black" points="687,-77 687,-94 826,-94 826,-77 687,-77"/>
<text text-anchor="start" x="726" y="-84" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">CLICK(0,0)</text>
<polygon fill="none" stroke="black" points="687,-58 687,-75 826,-75 826,-58 687,-58"/>
<text text-anchor="start" x="690" y="-64" font-family="Courier New" font-size="10.00" fill="blue">SIGNAL(WIP1,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="684,-55 684,-97 829,-97 829,-55 684,-55"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M665.98,-85.16C748.65,-85.94 829,-82.89 829,-76 829,-69.41 755.4,-66.33 676.62,-66.76"/>
<polygon fill="black" stroke="black" points="676.96,-63.26 666.98,-66.84 677.01,-70.26 676.96,-63.26"/>
<polygon fill="none" stroke="black" points="832,-132 832,-149 1307,-149 1307,-132 832,-132"/>
<text text-anchor="start" x="1018" y="-139" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_MATCH)</text>
<polygon fill="none" stroke="black" points="832,-3 832,-130 1307,-130 1307,-3 832,-3"/>
<text text-anchor="start" x="835" y="-119" font-family="Courier New" font-size="10.00" fill="blue">// magic candle can&#39;t light without enough nystrom!</text>
<text text-anchor="start" x="835" y="-108" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM == BFRAME) {</text>
<text text-anchor="start" x="835" y="-97" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;// check to see if the spell is ready</text>
<text text-anchor="start" x="835" y="-86" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP3, SIG_CHECK);</text>
<text text-anchor="start" x="835" y="-75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;REF_MACHINE(WIP3);</text>
<text text-anchor="start" x="835" y="-64" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;if ((R_WPARM &gt; 0) &amp;&amp; (R_WPARM == R_BPARM)) {</text>
<text text-anchor="start" x="835" y="-53" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SIGNAL(WIP1, SIG_SHOW); // WIP1 is the candle light</text>
<text text-anchor="start" x="835" y="-42" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BPARM = 0; // &#45;&#45;BPARM GOES TO ZERO AS THE NYSTROM CATCHES FIRE</text>
<text text-anchor="start" x="835" y="-31" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="835" y="-20" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;}</text>
<text text-anchor="start" x="835" y="-9" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="829,0 829,-152 1310,-152 1310,0 829,0"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M665.55,-86.6C903.37,-93.35 1310,-89.81 1310,-76 1310,-62.4 915.58,-58.76 676.46,-65.1"/>
<polygon fill="black" stroke="black" points="676.45,-61.62 666.55,-65.4 676.64,-68.62 676.45,-61.62"/>
<polygon fill="none" stroke="black" points="1313,-121 1313,-138 1776,-138 1776,-121 1313,-121"/>
<text text-anchor="start" x="1490" y="-128" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">DRAG(0,IDD_SCOOPF)</text>
<polygon fill="none" stroke="black" points="1313,-14 1313,-119 1776,-119 1776,-14 1313,-14"/>
<text text-anchor="start" x="1316" y="-108" font-family="Courier New" font-size="10.00" fill="blue">/* &#160;&#160;BFRAME is how much for the spell</text>
<text text-anchor="start" x="1316" y="-97" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1316" y="-86" font-family="Courier New" font-size="10.00" fill="blue">*/</text>
<text text-anchor="start" x="1316" y="-75" font-family="Courier New" font-size="10.00" fill="blue">if (BPARM &lt; BFRAME) { &#160;&#160;&#160;// BPARM is how much stored in the candle</text>
<text text-anchor="start" x="1316" y="-64" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;ADDI(BPARM,1);</text>
<text text-anchor="start" x="1316" y="-53" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;PLAYWAVE(SOUND_SLURP);</text>
<text text-anchor="start" x="1316" y="-42" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(WIP2, SIG_SHOW); // WIP2 is the nystrom meter (M12_xNYSTROMADDED)</text>
<text text-anchor="start" x="1316" y="-31" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;HANDOFF(0,IDD_SCOOPE);</text>
<text text-anchor="start" x="1316" y="-20" font-family="Courier New" font-size="10.00" fill="blue">}</text>
<polygon fill="none" stroke="black" points="1310,-11 1310,-141 1779,-141 1779,-11 1310,-11"/>
</g>
<!-- 0&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;0</title>
<path fill="none" stroke="black" d="M665.79,-87.87C1012.15,-99.76 1779,-95.81 1779,-76 1779,-56.4 1027.79,-52.32 676.57,-63.77"/>
<polygon fill="black" stroke="black" points="676.66,-60.3 666.79,-64.13 676.9,-67.3 676.66,-60.3"/>
<polygon fill="none" stroke="black" points="1782,-77 1782,-94 2017,-94 2017,-77 1782,-77"/>
<text text-anchor="start" x="1851" y="-84" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(,SIG_EMPTY)</text>
<polygon fill="none" stroke="black" points="1782,-58 1782,-75 2017,-75 2017,-58 1782,-58"/>
<text text-anchor="start" x="1785" y="-64" font-family="Courier New" font-size="10.00" fill="blue">ASSIGN(BPARM,0);SIGNAL(WIP2,SIG_HIDE);</text>
<polygon fill="none" stroke="black" points="1779,-55 1779,-97 2020,-97 2020,-55 1779,-55"/>
</g>
<!-- status -->
<g id="node3" class="node">
<title>status</title>
<polygon fill="none" stroke="black" points="2092,-36 2092,-116 2937,-116 2937,-36 2092,-36"/>
<polygon fill="none" stroke="black" points="2103,-92 2103,-109 2926,-109 2926,-92 2103,-92"/>
<text text-anchor="start" x="2460" y="-99" font-family="Courier New" font-weight="bold" font-size="10.00">S12_SHELF_1_CANDLE</text>
<polygon fill="none" stroke="black" points="2103,-62 2103,-90 2926,-90 2926,-62 2103,-62"/>
<text text-anchor="start" x="2106" y="-79" font-family="Courier New" font-size="10.00" fill="green">S12_SHELF_1_CANDLE::M12_xCANDLE(&#39;S12_SHELF_1_CANDLELIGHT&#39;,&#39;S12_SHELF_1_NYSTROMADDED&#39;,&#39;S12_SHELF_1_INGREDIENTS_MGR&#39;,&#39;S12_SHELF_1_SCROLL&#39;)</text>
<text text-anchor="start" x="2106" y="-68" font-family="Courier New" font-size="10.00" fill="green">{&#39;0&#39;:}</text>
<polygon fill="none" stroke="black" points="2103,-43 2103,-60 2926,-60 2926,-43 2103,-43"/>
<text text-anchor="start" x="2511" y="-49" font-family="Courier New" font-size="10.00" fill="blue">_</text>
<polygon fill="none" stroke="black" points="2100,-40 2100,-112 2929,-112 2929,-40 2100,-40"/>
</g>
</g>
</svg>
